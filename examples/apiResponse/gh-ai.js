// Import necessary librariesconst fs = require('fs');const { program } = require('commander');const readline = require('readline');const { CompletionApiClient } = require('@openai/api');// Set up Command Line Interfaceprogram .version('1.0.0') .description('gh-cli extension that provides help in the creation of other gh extensions using AI and prompt-engineering') .option('-d, --debug', 'Output extra information about the execution process') .option('--help-type <TYPE>', 'Allows the user to select the specific help they need') .option('-h, --help', 'Display help for command') .arguments('<input-file> <output-directory>') .action((inputFile, outputDirectory) => { // Read input file const prompt = fs.readFileSync(inputFile, 'utf8'); // Process prompt and create object const object = processPrompt(prompt); // Generate completion prompt const completionPrompt = generateCompletionPrompt(object); // Call OpenAI API with completion prompt callOpenAIAPI(completionPrompt); });// Parse argumentsprogram.parse(process.argv);
This file sets up the main functionality of the 'gh-ai' extension, including reading input files, processing prompts,generating completion prompts, and calling the OpenAI API.